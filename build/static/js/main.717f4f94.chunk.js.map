{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["dbUrl","axios","get","then","response","data","newPerson","post","person","delete","id","toString","put","Filter","newFilter","handleFilterChange","value","onChange","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","addPerson","onSubmit","type","Person","deletePerson","name","number","onClick","Persons","persons","filter","trim","toLowerCase","includes","nameFilter","map","Notification","text","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","className","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","notification","setNotification","notificationColor","setColor","useEffect","personService","initData","timeOut","setTimeout","event","target","preventDefault","samePersons","length","personObject","concat","window","confirm","p","Number","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.717f4f94.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst dbUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(dbUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst addPerson = newPerson => {\r\n  const request = axios.post(dbUrl, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = person => {\r\n  return axios.delete(`${dbUrl}/${person.id.toString()}`)\r\n}\r\n\r\nconst changeInfo = person => {\r\n  return axios.put(`${dbUrl}/${person.id.toString()}`, person)\r\n}\r\n\r\nexport default { getAll, addPerson, deletePerson, changeInfo }","import React from 'react'\r\n\r\nconst Filter = ({ newFilter, handleFilterChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input\r\n        value={newFilter}\r\n        onChange={handleFilterChange}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ newName, newNumber, handleNameChange, handleNumberChange, addPerson }) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input \r\n          value={newName}\r\n          onChange={handleNameChange}\r\n      />\r\n      </div>\r\n      <div>\r\n        number: <input\r\n          value={newNumber}\r\n          onChange={handleNumberChange}\r\n        />\r\n      </div>\r\n      <div><button type=\"submit\">add</button></div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <p>{person.name} {person.number} {' '}\r\n      <button key={person.name} onClick={deletePerson} value={person.id}>delete</button>\r\n    </p>\r\n  )\r\n}\r\n\r\nconst Persons = ({ newFilter, persons, deletePerson }) => {\r\n  const nameFilter = person => person.name.trim().toLowerCase().includes(newFilter.trim().toLowerCase())\r\n\r\n  return (\r\n    <div>\r\n      {persons.filter(person => nameFilter(person)).map(person =>\r\n        <Person key={person.name} person={person} deletePerson={deletePerson} />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons.js'\nimport Filter from './components/Filter.js'\nimport PersonForm from './components/PersonForm.js'\nimport Persons from './components/Persons.js'\n\nconst Notification = ({ text, color }) => {\n  const style = {\n    color: color,\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  if (text !== null) {\n    return (\n      <div style={style} className='notification'>\n        {text}\n      </div>\n    )\n  }\n  return null;\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n  const [ notificationColor, setColor ] = useState('green')\n  \n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initData => setPersons(initData))\n  }, [])\n\n  const handleFilterChange = event => { setNewFilter(event.target.value)}\n  \n  const timeOut = () => setTimeout(() => setNotification(null), 4000)\n  \n  const addPerson = event => {\n    event.preventDefault()\n    const samePersons = persons.filter(person => person.name === newName.trim())\n    if (samePersons.length === 0) {\n      const personObject = {\n        name: newName.trim(),\n        number: newNumber.trim()\n      }\n      personService\n        .addPerson(personObject)\n        .then(response => {\n          setPersons(persons.concat(response))\n          setColor('green')\n          setNotification(`Added ${response.name}`)\n          timeOut()\n        })\n    } else {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number wiht a new one?`)) {\n        const personObject = {\n          name: samePersons[0].name,\n          number: newNumber.trim(),\n          id: samePersons[0].id\n        }\n        personService\n          .changeInfo(personObject)\n          .then(response => {\n            setPersons(persons.map(p => p.id !== personObject.id ? p : personObject))\n            setColor('green')\n            setNotification(`Modified ${personObject.name}`)\n            timeOut()\n          })\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n  const deletePerson = event => {\n    event.preventDefault()\n    const person = persons.filter(p => p.id === Number(event.target.value))[0]\n    if (window.confirm(`Delete ${person.name} ?`) === true) {\n      personService\n        .deletePerson(person)\n        .then(() => {\n          setNotification(`Deleted ${person.name}`)\n          timeOut()\n        })\n        .catch(error => {\n          setColor('red')\n          setNotification(`Information of ${person.name} has already been removed from server`)\n          timeOut()\n        })\n        .then(setPersons(persons.filter(p => p.id !== person.id)))\n    }\n  }\n\n  const handleNameChange = (event) => { setNewName(event.target.value) }\n  const handleNumberChange = (event) => { setNewNumber(event.target.value)}\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification text={notification} color={notificationColor} />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <h3>add a new</h3>\n      <PersonForm \n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addPerson={addPerson}\n      />\n      <h3>Numbers</h3>\n      <Persons newFilter={newFilter} persons={persons} deletePerson={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}